# ═══════════════════════════════════════════════════════════
# Velum — Environment Variables
# ═══════════════════════════════════════════════════════════
# Copy this file to .env and fill in your values.
# Only DATABASE_URL is required — everything else is optional
# and enables additional features when configured.
# ═══════════════════════════════════════════════════════════

# ── Core (required) ──────────────────────────────────────

# PostgreSQL connection string
# Docker Compose sets this automatically. For external Postgres:
# DATABASE_URL=postgresql://user:password@host:5432/velum
DATABASE_URL=

# ── Application URL ──────────────────────────────────────

# Canonical URL of your Velum deployment (used for CORS, OpenRouter referer)
# APP_URL=https://your-domain.com
APP_URL=http://localhost:3000

# Additional CORS origins (comma-separated)
# CORS_ORIGINS=https://your-mobile-app.com,http://localhost:8081

# ── Redis (optional) ────────────────────────────────────
# Enables persistent chat sessions and insight caching.
# Without Redis, sessions fall back to in-memory (lost on restart).

# Standard Redis (Docker Compose sets this automatically)
# REDIS_URL=redis://localhost:6379

# OR Upstash REST Redis (serverless deployments)
# UPSTASH_REDIS_REST_URL=
# UPSTASH_REDIS_REST_TOKEN=

# ── API Security ─────────────────────────────────────────

# API key for write endpoints (POST/PUT/PATCH/DELETE)
# When set, all write requests need: Authorization: Bearer <key>
VELUM_API_KEY=

# ── AI Gateway (OpenClaw on Raspberry Pi) ────────────────
# Connects to your OpenClaw AI gateway for agent conversations.
# Without this, the chat falls back to local responses.

# GATEWAY_URL=http://192.168.1.x:18789
# OPENCLAW_GATEWAY_TOKEN=your-gateway-token

# ── OpenRouter (AI features) ─────────────────────────────
# Powers: nutrition photo analysis, AI-generated insights
# Get a key at: https://openrouter.ai/keys

# OPENROUTER_API_KEY=sk-or-...

# ── FatSecret (nutrition lookup) ─────────────────────────
# Powers: food macro lookup when logging meals via chat
# Register at: https://platform.fatsecret.com/

# FATSECRET_CONSUMER_KEY=
# FATSECRET_CONSUMER_SECRET=

# ── Telegram (cross-platform sync) ──────────────────────
# Relays coach messages to a Telegram chat/topic.

# TELEGRAM_BOT_TOKEN=
# TELEGRAM_CHAT_ID=
# TELEGRAM_WEBHOOK_SECRET=

# ── Notion (books/knowledge) ─────────────────────────────
# Connects to Notion databases for the books/wisdom feature.

# NOTION_TOKEN=
# NOTION_BOOKS_DB_ID=
# NOTION_REVIEWS_DB_ID=
# NOTION_ESSENTIAL_DB_ID=

# ── OpenAI (Spanish pronunciation) ──────────────────────
# Powers audio transcription for Spanish exercises.

# OPENAI_API_KEY=

# ── Agent Insights Push ──────────────────────────────────
# Bearer token for the Pi cron job that pushes insights.

# INSIGHTS_API_KEY=

# ── Database Migration ───────────────────────────────────
# Secret for the /api/migrate endpoint.

# MIGRATE_SECRET=

# ── Docker Compose ───────────────────────────────────────
# Password for the bundled PostgreSQL container.

POSTGRES_PASSWORD=velum
